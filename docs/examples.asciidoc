==== Example Configurations

===== Basic

A basic configuration which only includes a project, topic, and JSON key file:

[source,ruby]
------------------------------------------------------------------------------
output {
  google_pubsub {
    # Required attributes
    project_id => "my_project"
    topic => "my_topic"

    # Optional if you're using app default credentials
    json_key_file => "service_account_key.json"
  }
}
------------------------------------------------------------------------------


===== High Volume

If you find that uploads are going too slowly, you can increase the message batching:

[source,ruby]
------------------------------------------------------------------------------
output {
  google_pubsub {
    project_id => "my_project"
    topic => "my_topic"
    json_key_file => "service_account_key.json"

    # Options for configuring the upload
    message_count_threshold => 10000
    delay_threshold_secs => 10
    request_byte_threshold => 5MB
  }
}
------------------------------------------------------------------------------


===== Attributes

You can attach additional attributes to each request.
For example, you could attach a datacenter label to a log message to help with debugging:

[source,ruby]
------------------------------------------------------------------------------
output {
  google_pubsub {
    project_id => "my_project"
    topic => "my_topic"
    json_key_file => "service_account_key.json"


    attributes => {"origin" => "pacific-datacenter"}
  }
}
------------------------------------------------------------------------------
